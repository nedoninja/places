{# templates/register.html #}

<h2>Регистрация</h2>

{% if messages %}
  <ul class="messages">
    {% for message in messages %}
      <li class="{{ message.tags }}">{{ message }}</li>
    {% endfor %}
  </ul>
{% endif %}

<form method="post">
    {% csrf_token %}
    <input type="text" name="last_name" placeholder="Фамилия" value="{{ last_name }}" required>
    <input type="text" name="first_name" placeholder="Имя" value="{{ first_name }}" required>
    <input type="text" name="middle_name" placeholder="Отчество" value="{{ middle_name }}">

    <input type="text" name="username" placeholder="Логин" value="{{ username }}" required>
    <input type="email" name="email" placeholder="Email" value="{{ email }}" required>
    <input type="password" name="password" placeholder="Пароль" required>
    <input type="password" name="password_confirm" placeholder="Повторите пароль" required>

    <input type="tel" name="phone" placeholder="Номер телефона" value="{{ phone }}" required>
    <input type="text" name="city" placeholder="Город" value="{{ city }}" required>
    <input type="date" name="birth_date" value="{{ birth_date }}" required>

    <select name="role" required>
        <option value="" disabled {% if not role %}selected{% endif %}>Ваша роль</option>
        <option value="customer" {% if role == 'customer' %}selected{% endif %}>Заказчик</option>
        <option value="executor" {% if role == 'executor' %}selected{% endif %}>Исполнитель</option>
    </select>

    <button type="submit">Регистрация</button>
</form>

<p>Уже есть аккаунт? <a href="{% url 'login' %}">Войти</a></p>
